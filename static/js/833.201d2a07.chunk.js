"use strict";(self.webpackChunksite_use_like_vue=self.webpackChunksite_use_like_vue||[]).push([[833],{833:(e,s,n)=>{n.r(s),n.d(s,{default:()=>r});var t=n(9950),l=n(4414);function a(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML}const r=function(){return(0,t.useEffect)((()=>{const e=()=>{setTimeout((()=>{const e=window.location.hash.substring(1);if(""==e)return;const s=document.getElementById(e);s&&s.scrollIntoView({behavior:"smooth"})}),500)};return e(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}})),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[(0,l.jsx)("h1",{children:"APIs"}),(0,l.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,l.jsxs)("div",{className:"me-2",children:[(0,l.jsx)("a",{href:"https://github.com/cid-chen/react-mvvm-component",target:"_blank",className:"btn btn-sm btn-outline-secondary",children:"View on GitHub"}),"\xa0",(0,l.jsx)("a",{href:"https://ko-fi.com/O4O21IE7IA",target:"_blank",children:(0,l.jsx)("img",{height:"34",style:{border:"0px",height:"34px"},src:"https://storage.ko-fi.com/cdn/kofi6.png?v=6",border:"0",alt:"Buy Me a Coffee at ko-fi.com"})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,l.jsx)("li",{className:"list-group-item",children:(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM} /* view object APIs */) => (\n      <div>\n        <div ref={refDOM('ele1')}>\n          { $VM('timestamp') }\n        </div>\n \n        <button ref={refDOM('btn1')} id=\"showTime\" onClick={methods.showTimestamp}>show timestamp</button>\n        <br/>\n        <button onClick={methods.domTrigger}>dom trigger</button>\n      </div>),\n    methods : ({$VM, getMethods, memoBox, $DOM, nextTick} /* methods object APIs */) => ({\n      showTimestamp : function(){\n \n        alert($DOM('ele1').innerHTML);\n      },\n      updateTimestamp : function(){\n \n        $VM('timestamp').val(new Date().getTime());\n      },\n      domTrigger : function(){\n \n        alert('DOM trigger the button: '+ $DOM('btn1').id);\n \n        $DOM('btn1').click();\n      },\n    }),\n    data : {\n      timestamp: 'timestamp here',\n    }\n  });\n            ")}})]})})}),(0,l.jsxs)("li",{className:"list-group-item",children:[(0,l.jsx)("h2",{id:"view_object"}),(0,l.jsx)("br",{}),(0,l.jsx)("h2",{className:"h2",children:"view object APIs : $VM, methods, refDOM"}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:"$VM(key: string): any | null"}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: in view, render ViewModel values by key.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("(<div>{ $VM('count') }</div>)\n\n(<div>{ JSON.stringify($VM('*')) }</div>) // show all for debug\n")}})]})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:"methods: object"}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: in view, use your custom methods object.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("(<button onClick={methods.showTimestamp /* use showTimestamp */}>show timestamp</button>)\n")}})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n  showTimestamp : function(){ // set showTimestamp\n\n    alert(888);\n  },\n")}})]})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:"refDOM(key: string): object"}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: register the DOM element you want to use.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("(<div ref={refDOM('ele1')}>888</div>) // set in view\n")}})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("alert($DOM('ele1').innerHTML); // get in methods\n")}})]})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]}),(0,l.jsxs)("li",{className:"list-group-item",children:[(0,l.jsx)("h2",{id:"methods_object"}),(0,l.jsx)("br",{}),(0,l.jsx)("h2",{className:"h2",children:"methods object APIs : "}),(0,l.jsx)("h2",{className:"h2",children:"$VM, getMethods, memoBox, $DOM, nextTick"}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:["$VM(key: string): object",(0,l.jsx)("hr",{}),".val(setValue: any, callback?: function): void",(0,l.jsx)("hr",{}),".now(): any | null"]}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: in methods, set / get ViewModel values by key.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n  plus : function(){\n\n    const cnt = $VM('count');\n\n    cnt.val(cnt.now()+1, ()=>{\n      \n      alert('count now: '+ cnt.now());\n    });\n  },\n")}})]})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:"getMethods(): object"}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: in methods, get self methods object.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"*** Warning: Please use getMethods() instead of 'this', 'this' will cause unexpected errors.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n  stepMsg : function(msg){\n\n    alert(msg);\n  },\n  updateSomething : function(){\n      \n    this.stepMsg('nextTick trigger!'); // X: it will cause unexpected errors!\n      \n    getMethods().stepMsg('nextTick trigger!'); // O: call self methods\n  },\n}),\n")}})]})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:["memoBox: object",(0,l.jsx)("hr",{}),".set(key: string, setValue: any): boolean",(0,l.jsx)("hr",{}),".get(key: string): any | false",(0,l.jsx)("hr",{}),".del(key: string): boolean"]}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: in methods, maintaining some data across component re-renders.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"Notice: memo data lifetime is tied to the component presence.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n  useKeepData : function(){\n\n    let cacheData1 = memoBox.get('cacheData1');\n    \n    if( cacheData1 === false ){\n        \n      cacheData1 = '1234567888';\n\n      memoBox.set('cacheData1', cacheData1); // keep data across re-renders\n    }\n\n    $VM('numbers').val(cacheData1);\n  },\n")}})]})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:"$DOM(key: string): HTMLElement"}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: in methods, same as the DOM object obtained from document.getElementById.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"HTMLElement: ",(0,l.jsx)("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement",children:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("(<div ref={refDOM('ele1')}>888</div>) // set in view\n")}})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("alert($DOM('ele1').innerHTML); // get in methods\n\n$DOM('ele1').innerHTML = '1234567888'; // change html content\n")}})]})})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",style:{background:"#333",color:"#fff",fontWeight:"700",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},children:"nextTick(callback: function): void"}),(0,l.jsx)("ul",{className:"list-group list-group-flush",children:(0,l.jsxs)("li",{className:"list-group-item",children:["Description: the callback function triggers after onViewUpdated.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("pre",{children:[(0,l.jsx)("div",{className:"hljs-label",children:"js"}),(0,l.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:a("methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n  stepMsg : (msg) => {\n\n    alert(msg);\n  },\n  updateSomething : () => {\n\n    nextTick(()=>{ // trigger after the onViewUpdated\n\n      getMethods().stepMsg('nextTick trigger!'); // call self methods\n    });\n\n    $VM('showText').val(new Date().getTime());\n  },\n")}})]})})]})})]})]})]})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})}}}]);