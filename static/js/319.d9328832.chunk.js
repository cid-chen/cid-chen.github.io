"use strict";(self.webpackChunksite_use_like_vue=self.webpackChunksite_use_like_vue||[]).push([[319],{8319:(e,n,t)=>{t.r(n),t.d(n,{default:()=>l});var r=t(9950),o=t(927),c=t(4414);const u={name:"HaveFun-KobeBryant"},s=()=>{const[e,n]=(0,o.i)(r,{view:e=>{let{$VM:n,methods:t,refDOM:r}=e;return(0,c.jsxs)("div",{id:"app",children:["data: ",JSON.stringify(n("*")),(0,c.jsx)("input",{type:"text",defaultValue:n("name"),onChange:e=>{t.changeNameVM(e.target.value)}})]})},methods:e=>{let{$VM:n,getMethods:t,memoBox:r,$DOM:o,nextTick:c}=e;return{changeNameVM:function(e){n("name").val(e)}}},data:u});return(0,c.jsx)(c.Fragment,{children:e})},a=()=>{const[e,n]=(0,o.i)(r,{view:e=>{let{$VM:n,methods:t,refDOM:r}=e;return(0,c.jsxs)("div",{id:"app2",children:["data: ",JSON.stringify(n("*")),(0,c.jsx)("input",{type:"text",defaultValue:n("name"),onChange:e=>{t.changeNameVM(e.target.value)}})]})},methods:e=>{let{$VM:n,getMethods:t,memoBox:r,$DOM:o,nextTick:c}=e;return{changeNameVM:function(e){n("name").val(e)}}},data:u});return(0,c.jsx)(c.Fragment,{children:e})},i=()=>(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(r.StrictMode,{children:[(0,c.jsx)(s,{}),(0,c.jsx)("br",{}),(0,c.jsx)(a,{})]})});const l=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[(0,c.jsx)("h1",{children:"Entitly"}),(0,c.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,c.jsxs)("div",{className:"me-2",children:[(0,c.jsx)("a",{href:"https://github.com/cid-chen/react-mvvm-component",target:"_blank",className:"btn btn-sm btn-outline-secondary",children:"View on GitHub"}),"\xa0",(0,c.jsx)("a",{href:"https://ko-fi.com/O4O21IE7IA",target:"_blank",children:(0,c.jsx)("img",{height:"34",style:{border:"0px",height:"34px"},src:"https://storage.ko-fi.com/cdn/kofi6.png?v=6",border:"0",alt:"Buy Me a Coffee at ko-fi.com"})})]})})]}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,c.jsx)("li",{className:"list-group-item",children:(0,c.jsx)(i,{})}),(0,c.jsx)("li",{className:"list-group-item",children:"Two separate entity's isolation example."}),(0,c.jsx)("li",{className:"list-group-item",children:(0,c.jsx)("div",{children:(0,c.jsxs)("pre",{children:[(0,c.jsx)("div",{className:"hljs-label",children:"js"}),(0,c.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:(e="import ReactDOM from 'react-dom/client';\nimport React from 'react';\nimport { useRespectVue } from '@gratefuljs/react-mvvm-component';\n\n\nconst dataObj = {\n  name: 'HaveFun-KobeBryant'\n};\n\nconst Component1 = ()=>{\n\n  const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM}) => (\n      <div id=\"app\">\n\n        data: {JSON.stringify($VM('*'))}\n\n        <input type=\"text\" defaultValue={ $VM('name') } onChange={(e)=>{\n\n          methods.changeNameVM(e.target.value);\n        }}/>\n      </div>),\n    methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n      changeNameVM : function(value){\n\n        $VM('name').val(value);\n      },\n    }),\n    data : dataObj, // has own copy\n  });\n\n  return (<>{MVVMComponent}</>);\n};\n\nconst Component2 = ()=>{\n\n  const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM}) => (\n      <div id=\"app2\">\n\n        data: {JSON.stringify($VM('*'))}\n\n        <input type=\"text\" defaultValue={ $VM('name') } onChange={(e)=>{\n\n          methods.changeNameVM(e.target.value);\n        }}/>\n      </div>),\n    methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n      changeNameVM : function(value){\n\n        $VM('name').val(value);\n      },\n    }),\n    data : dataObj, // has own copy\n  });\n\n  return (<>{MVVMComponent}</>);\n};\n\nconst root = ReactDOM.createRoot(document.getElementById('app'));\nroot.render(<>\n  <React.StrictMode>\n    <Component1 />\n    <br/>\n    <Component2 />\n  </React.StrictMode>\n</>);\n            ",document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML)}})]})})})]})}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{})]});var e}},927:(e,n,t)=>{t.d(n,{i:()=>b});const r={},o={},c="onViewWillMount",u="onViewMounted",s="onViewWillUpdate",a="onViewUpdated",i="onViewWillUnmount",l="onViewUnmounted",m="onDataChange",d="methods",h="view",p="mixins",f="computed",y="$VM",v="function",g="object",x="nextTick",M="watch",w="init",V="paramErr1",j="memoBox",O="undefined",b=(e,n)=>{if(typeof e.version===O||e.version.split(".")[0]<17)return void console.error("params1 must be React and version >= 17 !");const{useState:t,useEffect:b,useRef:$,createRef:N,isValidElement:k}=e,P=$(0),C=$(!1);let T=Y(n.data);const[D,R]=t([null,T]),A=$(T),S=$(T);T=null;const[B,_]=t(null),F=$(!1),E=$(!1),J=$(!1),I=$(!1),U=$(null),H=$(null),q=($({}),$("")),W=$(!1),K=($(""),$({}),$({})),L=$(!1),G=$(null),X=($({}),$({})),z=($(),$(0));function Q(e,n){const t=Object.keys,r=typeof e;return e&&n&&r===g&&r===typeof n?t(e).length===t(n).length&&t(e).every((t=>Q(e[t],n[t]))):e===n}function Y(e){let n=Array.isArray(e)?[]:{};for(let t in e){let r=e[t];n[t]=typeof r===g&&null!==e?Y(r):r}return n}function Z(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=e=>{throw t+e};if(-1===n.indexOf("."))return e.hasOwnProperty(n)?e[n]:void r(n);const o=n.split("."),c=o.shift();if(e.hasOwnProperty(c))return t+=c+".",Z(e[c],o.join("."),t);r(c)}L.current={set:function(e,n){return K.current[e]=n,typeof K.current[e]!==O},get:function(e){return K.current[e]||!1},del:function(e){return delete K.current[e],typeof K.current[e]===O}};const ee=()=>{if(!1!==W.current){const e=W.current[q.current];let n;for(let t=0,r=e.length;t<r;t++){if(n=e.shift(),!0===I.current)return;typeof n===v&&n()}delete W.current[q.current],W.current=!1,q.current=""}},ne=(e,n)=>{const t=n,r=e[0];typeof r===v&&r(),t()},te=e=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{e()}),0)}))}),0)},re=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case w:(()=>{const[e,t]=n;console.error(`${e} error: "${t}" is not init in the data object !`)})();break;case"dom":(()=>{const e=n;console.error(`$DOM error: use DOM key "${e}" is not exist !`)})();break;case V:(()=>{const[e,t]=n;console.error(`${e} error: param ${t} must be function !`)})();break;case"jsx":(()=>{const e=n;console.error(`${e}: must be a valid react component(JSX) !`)})()}},oe=function(e){return e(((t={})[y]=e=>{return(t={}).key=e,t.val=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(J.current)return;let o=()=>{};const c=this.key;typeof t===v?(o=()=>(t(),!0),typeof n[m]===v&&n[m](((n,t)=>{if(typeof t===v){if("*"!==n)try{let r,o,u=!0;if(r=e,o=S.current[c],!S.current.hasOwnProperty(c))throw n;n==c&&!0===u&&!1===Q(r,o)&&t(r,o)}catch(e){re(w,[M,n]),isToCompare=!1}}else re(V,[M,"2"])}),U.current),!0===F.current&&n.hasOwnProperty(s)&&n[s](U.current,r),R((n=>{const[t,r]=n,u={ref:null};new Promise((e=>{e(Promise.resolve((()=>new Promise((e=>{window.requestAnimationFrame((function(){e()}))})))))})).then((e=>new Promise((n=>{setTimeout((()=>{n(e)}),0)})).then((e=>(Promise.resolve((e=>e)).then((e=>Promise.resolve(e()))),()=>{S.current=u.ref}))))).then((e=>{e()}));let s=(e=>{let n=e;return Array.isArray(e)?n=[...e]:typeof e===g&&(n={...e}),n})(r),a=c;return u.ref=s,u.ref[a]=e,[o,{...s}]}))):re(V,[`${y}.val`,"2"])},t.update=function(e){let n;return e&&(n=e()),this},t.now=function(){const e=this.key;let n={...A.current};try{let t=n[e];return n=Array.isArray(t)||typeof t===g?Y(t):JSON.parse(JSON.stringify(t)),n}catch(n){return re(w,[y,e]),null}},t.then=function(e){e&&e()},t;var t},t[j]=L.current,t.getMethods=()=>U.current,t.$DOM=e=>!0!==X.current.hasOwnProperty(e)?(re("dom",e),null):X.current[e].current,t[x]=e=>{typeof e===v?(""===q.current&&(q.current=(.001*window.crypto.getRandomValues(new Uint8Array(1))).toString(36).slice(2,7)),!1===W.current&&(W.current=[],W.current[q.current]=[]),W.current[q.current].push(e)):re(V,[x,"1"])},t.eventBus=r,t.batchUpdate=function(){},t.globalBox=o,t));var t};if(null===U.current){if(U.current={},n.hasOwnProperty(d)){if(typeof n[d]!==v)return void re(V,[d,"1"]);let e=n[d];U.current=oe(e),e=null}n.hasOwnProperty(p),U.current.unmountView=()=>{!1===I.current&&(I.current=!0,J.current=!0,n.hasOwnProperty(i)&&n[i](U.current,r),R(!1),_(null))}}return null===G.current&&(G.current={},n.hasOwnProperty(f)),null===H.current&&(H.current={},n.hasOwnProperty(p)),b((()=>{!1!==D?(A.current=Y(D[1]),((e,t,r,o)=>{const c=n=>{if("*"===n)return e;try{return Z(e,n)}catch(e){return re(w,[y,e]),null}},u=e=>(!0===X.current.hasOwnProperty(e)||(X.current[e]=N()),X.current[e]),s=n[h]((e=>(e[y]=c,e[d]=t,e.refDOM=u,e[f]=r,e[j]=L.current,e.components=o,e))({}));!0===k(s)?_(s):re("jsx",h)})(D[1],U.current,G.current,H.current)):_(null)}),[D]),b((()=>{!0===E.current&&!0!==I.current&&te((()=>{((e,t,o)=>{const c=e;!0!==I.current&&(n.hasOwnProperty(a)&&n[a](U.current,r),c(t,o))})(ne,D,ee)}))}),[D]),b((()=>{if(!0!==I.current){if(!0===F.current&&!1===E.current)te((()=>{setTimeout((()=>{n.hasOwnProperty(u)&&n[u](U.current,r)}),0)})),E.current=!0;else if(!0===E.current&&C.current&&2==P.current)return void(P.current=3);!1===F.current&&null===B&&(n.hasOwnProperty(c)&&n[c](U.current,r),F.current=!0)}else te((()=>{n.hasOwnProperty(l)&&n[l](U.current,r),A.current=null,U.current=null}))}),[B]),b((()=>{P.current++,P.current>1&&(C.current=!0)}),[]),b((()=>()=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{C.current&&z.current++,1!=z.current&&(J.current=!0,n.hasOwnProperty(i)&&n[i](U.current,r),I.current=!0,setTimeout((()=>{n.hasOwnProperty(l)&&n[l](U.current,r)}),0))}),0)}))}),0)}),[]),[B,U.current,r]}}}]);