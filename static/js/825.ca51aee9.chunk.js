"use strict";(self.webpackChunksite_use_like_vue=self.webpackChunksite_use_like_vue||[]).push([[825],{2825:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(9950),o=n(9335),s=n(927),i=n(4414);const c=(0,o.Ay)((e=>{let{red:t,className:n}=e;const[o,c]=(0,s.i)(r,{view:e=>{let{$VM:t,methods:r,refDOM:o}=e;return(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)("div",{children:"You gotta keep on watering your dream!"}),(0,i.jsx)("div",{children:"Think positively, progress gradually."}),(0,i.jsxs)("div",{className:"element_text",children:[(0,i.jsx)("br",{}),"In the far east.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),'They have something that\'s called "Chinese bamboo tree".',(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"The Chinese bamboo tree takes five years to grow.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"They have to water and fertilize the ground where it is every day.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"And it doesn't break through the ground until the fifth year.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"But once it breaks through the ground.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"Within five weeks it grows 90 feet tall.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),'Now the question is "Does it grow 90 feet tall in five weeks or five years ?"',(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"The answer is obvious. It grows 90 feet tall in five years.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"Because at any time that person stopped watering and nurturing and fertilizing that tree.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"That bamboo tree would have died in the ground. \xa0\xa0",(0,i.jsx)("a",{target:"_blank",href:"https://www.youtube.com/watch?v=ZraoxMfhKNk",children:"- Les Brown"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]})]})},methods:e=>{let{$VM:t,memoBox:n,$DOM:r,nextTick:o}=e;return{stepMsg:function(e){alert("SFC Demo: "+e)}}},data:{showText:"ComponentA here!"},onViewMounted(e){e.stepMsg("new ComponentA did mount!")},onViewUnmounted(e){e.stepMsg("old ComponentA did unmount!")}});return o}))`
  max-width: 500px;
  border: solid black 1px;
  padding: 5px;
  font-size: 24px;
  font-weight: bold;
  color: ${e=>1==e.red?"red":"blue"};
  .element_text {
    color: #111222;
    font-size: 14px;
    font-weight: 400;
  }
`,a=()=>{const[e,t]=(0,s.i)(r,{view:e=>{let{$VM:t,methods:n,refDOM:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:n.changeColor,children:"change component color"}),(0,i.jsx)("br",{}),(0,i.jsx)(c,{red:t("titleColor")},(new Date).getTime())]})},methods:e=>{let{$VM:t,memoBox:n,$DOM:r,nextTick:o}=e;return{changeColor:function(){const e=t("titleColor");e.val(!e.now())}}},data:{titleColor:!1}});return(0,i.jsx)(i.Fragment,{children:e})};const u=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[(0,i.jsx)("h1",{children:"Single-File Component (SFC)"}),(0,i.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,i.jsxs)("div",{className:"me-2",children:[(0,i.jsx)("a",{href:"https://github.com/cid-chen/react-mvvm-component",target:"_blank",className:"btn btn-sm btn-outline-secondary",children:"View on GitHub"}),"\xa0",(0,i.jsx)("a",{href:"https://ko-fi.com/O4O21IE7IA",target:"_blank",children:(0,i.jsx)("img",{height:"34",style:{border:"0px",height:"34px"},src:"https://storage.ko-fi.com/cdn/kofi6.png?v=6",border:"0",alt:"Buy Me a Coffee at ko-fi.com"})})]})})]}),(0,i.jsx)("br",{}),(0,i.jsx)("h5",{children:'"SFC offers a robust and modular solution for scalable development."'}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,i.jsx)("li",{className:"list-group-item",children:(0,i.jsx)(a,{})}),(0,i.jsx)("li",{className:"list-group-item",children:"Single-File Component example."}),(0,i.jsx)("li",{className:"list-group-item",children:(0,i.jsx)("div",{children:(0,i.jsxs)("pre",{children:[(0,i.jsx)("div",{className:"hljs-label",children:"js"}),(0,i.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:(e="// SFC\nimport styled from 'styled-components' // Respect styled-components\nimport ReactDOM from 'react-dom/client';\nimport React from 'react';\nimport { useRespectVue } from '@gratefuljs/react-mvvm-component';\n\nconst ComponentA = ({ red, className })=>{\n\n  const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM}) => (\n      <div className={className/* must have className */}>\n        <div>You gotta keep on watering your dream!</div>\n        <div>Think positively, progress gradually.</div>\n        <div className=\"element_text\">\n          <br/>In the far east.\n          <br/><br/>They have something that's called \"Chinese bamboo tree\".\n          <br/><br/>The Chinese bamboo tree takes five years to grow.\n          <br/><br/>They have to water and fertilize the ground where it is every day.\n          <br/><br/>And it doesn't break through the ground until the fifth year.\n          <br/><br/>But once it breaks through the ground.\n          <br/><br/>Within five weeks it grows 90 feet tall.\n          <br/><br/>Now the question is \"Does it grow 90 feet tall in five weeks or five years ?\"\n          <br/><br/>The answer is obvious. It grows 90 feet tall in five years.\n          <br/><br/>Because at any time that person stopped watering and nurturing and fertilizing that tree.\n          <br/><br/>That bamboo tree would have died in the ground.\n          &nbsp;&nbsp;<a target=\"_blank\" href=\"https://www.youtube.com/watch?v=ZraoxMfhKNk\">- Les Brown</a>\n          <br/><br/>\n        </div>\n      </div>),\n    methods : ({$VM, memoBox, $DOM, nextTick}) => ({\n      stepMsg : function(msg){\n\n        alert('SFC Demo: '+ msg);\n      },\n    }),\n    data : {\n      showText : 'ComponentA here!'\n    },\n    onViewMounted(methods) {\n\n      methods.stepMsg('new ComponentA did mount!');\n    },\n    onViewUnmounted(methods) {\n      \n      methods.stepMsg('old ComponentA did unmount!');\n    },\n  });\n  \n  return MVVMComponent // {<>MVVMComponent</>} is not work at styled component\n};\n\nconst StyledComponentA = styled(ComponentA)`  \r\n  max-width: 500px;  \r\n  border: solid black 1px;  \r\n  padding: 5px;  \r\n  font-size: 24px;  \r\n  font-weight: bold;  \r\n  color: ${props => (props.red == true ? 'red' : 'blue')};  \r\n  .element_text {  \r\n    color: #111222;  \r\n    font-size: 14px;  \r\n    font-weight: 400;  \r\n  }\r\n`\n\n// export default StyledComponentA;\n\n\n\n\n// import StyledComponentA in the App file\nconst Example9_1 = ()=>{\n\n  const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM}) => (\n      <>\n        <button onClick={methods.changeColor}>change component color</button>\n        <br/>\n        <StyledComponentA key={new Date().getTime()/* for force update */} red={ $VM('titleColor') }/>\n      </>),\n    methods : ({$VM, memoBox, $DOM, nextTick}) => ({\n      changeColor : function(){\n\n        const tc = $VM('titleColor');\n\n        tc.val( !tc.now() );\n      },\n    }),\n    data : {\n      titleColor : false\n    },\n  });\n\n  return (<>{MVVMComponent}</>);\n};\n\n\n\nconst root = ReactDOM.createRoot(document.getElementById('app'));\nroot.render(<>\n  {<React.StrictMode>\n    <Example9_1 />\n  </React.StrictMode>/*<Example9_1 />*/}\n</>);\n            ",document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML)}})]})})})]})}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]});var e}},927:(e,t,n)=>{n.d(t,{i:()=>C});const r={},o={},s="onViewWillMount",i="onViewMounted",c="onViewWillUpdate",a="onViewUpdated",u="onViewWillUnmount",l="onViewUnmounted",d="onDataChange",h="methods",m="view",p="mixins",f="computed",b="$VM",w="function",x="object",g="nextTick",y="watch",v="init",j="paramErr1",M="memoBox",k="undefined",C=(e,t)=>{if(typeof e.version===k||e.version.split(".")[0]<17)return void console.error("params1 must be React and version >= 17 !");const{useState:n,useEffect:C,useRef:V,createRef:O,isValidElement:T}=e,A=V(0),N=V(!1);let $=X(t.data);const[P,D]=n([null,$]),S=V($),_=V($);$=null;const[R,B]=n(null),F=V(!1),I=V(!1),E=V(!1),z=V(!1),U=V(null),q=V(null),W=(V({}),V("")),L=V(!1),H=(V(""),V({}),V({})),J=V(!1),K=V(null),Y=(V({}),V({})),Z=(V(),V(0));function G(e,t){const n=Object.keys,r=typeof e;return e&&t&&r===x&&r===typeof t?n(e).length===n(t).length&&n(e).every((n=>G(e[n],t[n]))):e===t}function X(e){let t=Array.isArray(e)?[]:{};for(let n in e){let r=e[n];t[n]=typeof r===x&&null!==e?X(r):r}return t}function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=e=>{throw n+e};if(-1===t.indexOf("."))return e.hasOwnProperty(t)?e[t]:void r(t);const o=t.split("."),s=o.shift();if(e.hasOwnProperty(s))return n+=s+".",Q(e[s],o.join("."),n);r(s)}J.current={set:function(e,t){return H.current[e]=t,typeof H.current[e]!==k},get:function(e){return H.current[e]||!1},del:function(e){return delete H.current[e],typeof H.current[e]===k}};const ee=()=>{if(!1!==L.current){const e=L.current[W.current];let t;for(let n=0,r=e.length;n<r;n++){if(t=e.shift(),!0===z.current)return;typeof t===w&&t()}delete L.current[W.current],L.current=!1,W.current=""}},te=(e,t)=>{const n=t,r=e[0];typeof r===w&&r(),n()},ne=e=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{e()}),0)}))}),0)},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case v:(()=>{const[e,n]=t;console.error(`${e} error: "${n}" is not init in the data object !`)})();break;case"dom":(()=>{const e=t;console.error(`$DOM error: use DOM key "${e}" is not exist !`)})();break;case j:(()=>{const[e,n]=t;console.error(`${e} error: param ${n} must be function !`)})();break;case"jsx":(()=>{const e=t;console.error(`${e}: must be a valid react component(JSX) !`)})()}},oe=function(e){return e(((n={})[b]=e=>{return(n={}).key=e,n.val=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(E.current)return;let o=()=>{};const s=this.key;typeof n===w?(o=()=>(n(),!0),typeof t[d]===w&&t[d](((t,n)=>{if(typeof n===w){if("*"!==t)try{let r,o,i=!0;if(r=e,o=_.current[s],!_.current.hasOwnProperty(s))throw t;t==s&&!0===i&&!1===G(r,o)&&n(r,o)}catch(e){re(v,[y,t]),isToCompare=!1}}else re(j,[y,"2"])}),U.current),!0===F.current&&t.hasOwnProperty(c)&&t[c](U.current,r),D((t=>{const[n,r]=t,i={ref:null};new Promise((e=>{e(Promise.resolve((()=>new Promise((e=>{window.requestAnimationFrame((function(){e()}))})))))})).then((e=>new Promise((t=>{setTimeout((()=>{t(e)}),0)})).then((e=>(Promise.resolve((e=>e)).then((e=>Promise.resolve(e()))),()=>{_.current=i.ref}))))).then((e=>{e()}));let c=(e=>{let t=e;return Array.isArray(e)?t=[...e]:typeof e===x&&(t={...e}),t})(r),a=s;return i.ref=c,i.ref[a]=e,[o,{...c}]}))):re(j,[`${b}.val`,"2"])},n.update=function(e){let t;return e&&(t=e()),this},n.now=function(){const e=this.key;let t={...S.current};try{let n=t[e];return t=Array.isArray(n)||typeof n===x?X(n):JSON.parse(JSON.stringify(n)),t}catch(t){return re(v,[b,e]),null}},n.then=function(e){e&&e()},n;var n},n[M]=J.current,n.getMethods=()=>U.current,n.$DOM=e=>!0!==Y.current.hasOwnProperty(e)?(re("dom",e),null):Y.current[e].current,n[g]=e=>{typeof e===w?(""===W.current&&(W.current=(.001*window.crypto.getRandomValues(new Uint8Array(1))).toString(36).slice(2,7)),!1===L.current&&(L.current=[],L.current[W.current]=[]),L.current[W.current].push(e)):re(j,[g,"1"])},n.eventBus=r,n.batchUpdate=function(){},n.globalBox=o,n));var n};if(null===U.current){if(U.current={},t.hasOwnProperty(h)){if(typeof t[h]!==w)return void re(j,[h,"1"]);let e=t[h];U.current=oe(e),e=null}t.hasOwnProperty(p),U.current.unmountView=()=>{!1===z.current&&(z.current=!0,E.current=!0,t.hasOwnProperty(u)&&t[u](U.current,r),D(!1),B(null))}}return null===K.current&&(K.current={},t.hasOwnProperty(f)),null===q.current&&(q.current={},t.hasOwnProperty(p)),C((()=>{!1!==P?(S.current=X(P[1]),((e,n,r,o)=>{const s=t=>{if("*"===t)return e;try{return Q(e,t)}catch(e){return re(v,[b,e]),null}},i=e=>(!0===Y.current.hasOwnProperty(e)||(Y.current[e]=O()),Y.current[e]),c=t[m]((e=>(e[b]=s,e[h]=n,e.refDOM=i,e[f]=r,e[M]=J.current,e.components=o,e))({}));!0===T(c)?B(c):re("jsx",m)})(P[1],U.current,K.current,q.current)):B(null)}),[P]),C((()=>{!0===I.current&&!0!==z.current&&ne((()=>{((e,n,o)=>{const s=e;!0!==z.current&&(t.hasOwnProperty(a)&&t[a](U.current,r),s(n,o))})(te,P,ee)}))}),[P]),C((()=>{if(!0!==z.current){if(!0===F.current&&!1===I.current)ne((()=>{setTimeout((()=>{t.hasOwnProperty(i)&&t[i](U.current,r)}),0)})),I.current=!0;else if(!0===I.current&&N.current&&2==A.current)return void(A.current=3);!1===F.current&&null===R&&(t.hasOwnProperty(s)&&t[s](U.current,r),F.current=!0)}else ne((()=>{t.hasOwnProperty(l)&&t[l](U.current,r),S.current=null,U.current=null}))}),[R]),C((()=>{A.current++,A.current>1&&(N.current=!0)}),[]),C((()=>()=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{N.current&&Z.current++,1!=Z.current&&(E.current=!0,t.hasOwnProperty(u)&&t[u](U.current,r),z.current=!0,setTimeout((()=>{t.hasOwnProperty(l)&&t[l](U.current,r)}),0))}),0)}))}),0)}),[]),[R,U.current,r]}}}]);