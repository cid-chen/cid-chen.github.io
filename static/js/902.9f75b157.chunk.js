"use strict";(self.webpackChunksite_use_like_vue=self.webpackChunksite_use_like_vue||[]).push([[902],{6902:(e,n,t)=>{t.r(n),t.d(n,{default:()=>a});var r=t(9950),o=t(927),s=t(4414);const i=()=>{const[e,n]=(0,o.i)(r,{view:e=>{let{$VM:n,methods:t,refDOM:r}=e;return(0,s.jsxs)("div",{children:["count: ",n("count"),(0,s.jsx)("br",{}),0==n("count")?(0,s.jsx)("div",{style:{backgroundColor:"yellow"},children:"Have faith in following your passion and purpose."}):n("count")<3?(0,s.jsxs)("div",{style:{backgroundColor:"skyblue"},children:["Take it one step at a time - ",(0,s.jsx)("a",{target:"_blank",href:"https://www.youtube.com/watch?v=ZraoxMfhKNk",children:"this video"})," will change everything!"]}):(0,s.jsx)("div",{style:{backgroundColor:"red"},children:"Can you believe it? Beethoven composed the Ninth Symphony almost completely deaf!"}),(0,s.jsx)("button",{onClick:t.plus,children:"Plus"}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{onClick:t.reset,children:"Reset"})]})},methods:e=>{let{$VM:n,getMethods:t,memoBox:r,$DOM:o,nextTick:s}=e;return{plus:function(){n("count").val(n("count").now()+1)},reset:function(){n("count").val(0)}}},data:{count:0}});return(0,s.jsx)(s.Fragment,{children:e})},c=()=>{const[e,n]=(0,o.i)(r,{view:e=>{let{$VM:n,methods:t,refDOM:r}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("ul",{className:"pagination",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"<"})}),n("numbers").map((e=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:e})},e.toString()))),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:">"})})]}),(0,s.jsx)("button",{onClick:t.add,children:"Add"}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{onClick:t.minus,children:"Minus"})]})},methods:e=>{let{$VM:n,getMethods:t,memoBox:r,$DOM:o,nextTick:s}=e;return{add:function(){let e=r.get("toJoinNumber");!1===e&&(e=1),r.set("toJoinNumber",e+1);const t=n("numbers");t.val([...t.now(),e])},minus:function(){const e=n("numbers").now(),t=e.pop();r.set("toJoinNumber",t),n("numbers").val(e)}}},data:{numbers:[]}});return(0,s.jsx)(s.Fragment,{children:e})},l=()=>{const[e,n]=(0,o.i)(r,{view:e=>{let{$VM:n,methods:t,refDOM:r}=e;return(0,s.jsxs)("div",{children:["Edit :",(0,s.jsx)("input",{type:"text",defaultValue:n("message"),placeholder:"Max length: 2 chars",style:t.msgStyle(),onChange:e=>{t.inputChange(e.target.value)}})]})},methods:e=>{let{$VM:n,getMethods:t,memoBox:r,$DOM:o,nextTick:s}=e;return{inputChange:function(e){n("message").val(e)},isVaild:function(){return n("message").now().length<=2},msgStyle:function(){const e=t();return{border:e.isVaild()?"":"red solid 1px",color:e.isVaild()?"":"red"}}}},data:{message:""}});return(0,s.jsx)(s.Fragment,{children:e})};function u(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML}const a=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[(0,s.jsx)("h1",{children:"If / Loop / Render"}),(0,s.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,s.jsxs)("div",{className:"me-2",children:[(0,s.jsx)("a",{href:"https://github.com/cid-chen/react-mvvm-component",target:"_blank",className:"btn btn-sm btn-outline-secondary",children:"View on GitHub"}),"\xa0",(0,s.jsx)("a",{href:"https://ko-fi.com/O4O21IE7IA",target:"_blank",children:(0,s.jsx)("img",{height:"34",style:{border:"0px",height:"34px"},src:"https://storage.ko-fi.com/cdn/kofi6.png?v=6",border:"0",alt:"Buy Me a Coffee at ko-fi.com"})})]})})]}),(0,s.jsx)("br",{}),(0,s.jsx)("h5",{children:'"Seamlessly integrates component state management with JSX."'}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("h2",{className:"h2",children:"if render"}),(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,s.jsx)("li",{className:"list-group-item",children:(0,s.jsx)(i,{})}),(0,s.jsx)("li",{className:"list-group-item",children:"if condition example."}),(0,s.jsx)("li",{className:"list-group-item",children:(0,s.jsx)("div",{children:(0,s.jsxs)("pre",{children:[(0,s.jsx)("div",{className:"hljs-label",children:"js"}),(0,s.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:u("import React from 'react';\nimport { useRespectVue } from '@gratefuljs/react-mvvm-component';\n\nconst Example5_1 = ()=>{\n  \n  const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM}) => (\n      <div>\n        count: {$VM('count')}\n        <br/>\n        {(()=>{\n          if( $VM('count') == 0 ){\n \n            return (<div style={{backgroundColor: 'yellow'}}>Have faith in following your passion and purpose.</div>);\n \n          }else if( $VM('count') < 3 ){\n \n            return (<div style={{backgroundColor: 'skyblue'}}>\n                Take it one step at a time - <a target=\"_blank\" href=\"https://www.youtube.com/watch?v=ZraoxMfhKNk\">this video</a> will change everything!\n            </div>);\n \n          }else{\n \n            return (<div style={{backgroundColor: 'red'}}>Can you believe it? Beethoven composed the Ninth Symphony almost completely deaf!</div>);\n          }\n        })()}\n\n        <button onClick={methods.plus}>Plus</button>\n        <br/>\n        <button onClick={methods.reset}>Reset</button>\n      </div>),\n    methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n      plus : function(){\n\n        $VM('count').val( $VM('count').now()+1 );\n      },\n      reset : function(){\n\n        $VM('count').val(0);\n      },\n    }),\n    data : {\n      count: 0,\n    },\n  });\n\n  return (<>{MVVMComponent}</>);\n};\n            ")}})]})})})]})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("h2",{className:"h2",children:"loop render"}),(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,s.jsx)("li",{className:"list-group-item",children:(0,s.jsx)(c,{})}),(0,s.jsx)("li",{className:"list-group-item",children:"loop condition example."}),(0,s.jsx)("li",{className:"list-group-item",children:(0,s.jsx)("div",{children:(0,s.jsxs)("pre",{children:[(0,s.jsx)("div",{className:"hljs-label",children:"js"}),(0,s.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:u("import React from 'react';\nimport { useRespectVue } from '@gratefuljs/react-mvvm-component';\n\nconst Example5_2 = ()=>{\n  \n  const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM}) => (\n      <div>\n        <ul className=\"pagination\">\n          <li><a href=\"#\">&lt;</a></li>\n\n          {$VM('numbers').map((number) =>\n            <li key={number.toString()}>\n              <a href=\"#\">{ number }</a>\n            </li>\n          )}\n\n          <li><a href=\"#\">&gt;</a></li>\n        </ul>\n\n        <button onClick={methods.add}>Add</button>\n        <br/>\n        <button onClick={methods.minus}>Minus</button>\n      </div>),\n    methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n      add : function(){\n\n        let toJoinNumber = memoBox.get('toJoinNumber');\n\n        if( toJoinNumber === false ){\n\n          toJoinNumber = 1;\n        }\n\n        memoBox.set('toJoinNumber', toJoinNumber+1); // keep data across re-renders (cache)\n\n\n        const nums = $VM('numbers');\n\n        nums.val([...nums.now(), toJoinNumber]);\n      },\n      minus : function(){\n\n        const tmp = $VM('numbers').now();\n\n        const toJoinNumber = tmp.pop();\n\n        memoBox.set('toJoinNumber', toJoinNumber);\n\n        $VM('numbers').val( tmp );\n      },\n    }),\n    data : {\n      numbers: [],\n    },\n  });\n\n  return (<>{MVVMComponent}</>);\n};\n            ")}})]})})})]})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("h2",{className:"h2",children:"style render"}),(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,s.jsx)("li",{className:"list-group-item",children:(0,s.jsx)(l,{})}),(0,s.jsx)("li",{className:"list-group-item",children:"style render example."}),(0,s.jsx)("li",{className:"list-group-item",children:(0,s.jsx)("div",{children:(0,s.jsxs)("pre",{children:[(0,s.jsx)("div",{className:"hljs-label",children:"js"}),(0,s.jsx)("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:u("import React from 'react';\nimport { useRespectVue } from '@gratefuljs/react-mvvm-component';\n\nconst Example5_3 = ()=>{\n  \n  const [MVVMComponent, VMmethodsAPI] = useRespectVue(React, {\n    view : ({$VM, methods, refDOM}) => (\n      <div>\n        Edit :\n        <input\n          type=\"text\" \n          defaultValue={ $VM('message') }\n          placeholder=\"Max length: 2 chars\"\n          style={ methods.msgStyle() } \n          onChange={(e)=>{\n\n            methods.inputChange(e.target.value);\n          }} />\n      </div>),\n    methods : ({$VM, getMethods, memoBox, $DOM, nextTick}) => ({\n      inputChange : function(data){\n\n        $VM('message').val(data);\n      },\n      isVaild: function() {\n\n        return $VM('message').now().length <= 2;\n      },\n      msgStyle: function() {\n\n        const methods = getMethods(); // use methods\n\n        return {\n          'border': methods.isVaild() ? '' : 'red solid 1px',\n          'color': methods.isVaild() ? '' : 'red'\n        };\n      },\n    }),\n    data : {\n      message: '',\n    },\n  });\n\n  return (<>{MVVMComponent}</>);\n};\n            ")}})]})})})]})})]})}},927:(e,n,t)=>{t.d(n,{i:()=>k});const r={},o={},s="onViewWillMount",i="onViewMounted",c="onViewWillUpdate",l="onViewUpdated",u="onViewWillUnmount",a="onViewUnmounted",m="onDataChange",d="methods",h="view",p="mixins",f="computed",x="$VM",g="function",b="object",v="nextTick",j="watch",y="init",M="paramErr1",w="memoBox",V="undefined",k=(e,n)=>{if(typeof e.version===V||e.version.split(".")[0]<17)return void console.error("params1 must be React and version >= 17 !");const{useState:t,useEffect:k,useRef:N,createRef:$,isValidElement:O}=e,C=N(0),P=N(!1);let T=Q(n.data);const[R,_]=t([null,T]),S=N(T),D=N(T);T=null;const[J,A]=t(null),B=N(!1),E=N(!1),I=N(!1),F=N(!1),H=N(null),U=N(null),L=(N({}),N("")),q=N(!1),W=(N(""),N({}),N({})),K=N(!1),X=N(null),Z=(N({}),N({})),G=(N(),N(0));function z(e,n){const t=Object.keys,r=typeof e;return e&&n&&r===b&&r===typeof n?t(e).length===t(n).length&&t(e).every((t=>z(e[t],n[t]))):e===n}function Q(e){let n=Array.isArray(e)?[]:{};for(let t in e){let r=e[t];n[t]=typeof r===b&&null!==e?Q(r):r}return n}function Y(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=e=>{throw t+e};if(-1===n.indexOf("."))return e.hasOwnProperty(n)?e[n]:void r(n);const o=n.split("."),s=o.shift();if(e.hasOwnProperty(s))return t+=s+".",Y(e[s],o.join("."),t);r(s)}K.current={set:function(e,n){return W.current[e]=n,typeof W.current[e]!==V},get:function(e){return W.current[e]||!1},del:function(e){return delete W.current[e],typeof W.current[e]===V}};const ee=()=>{if(!1!==q.current){const e=q.current[L.current];let n;for(let t=0,r=e.length;t<r;t++){if(n=e.shift(),!0===F.current)return;typeof n===g&&n()}delete q.current[L.current],q.current=!1,L.current=""}},ne=(e,n)=>{const t=n,r=e[0];typeof r===g&&r(),t()},te=e=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{e()}),0)}))}),0)},re=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case y:(()=>{const[e,t]=n;console.error(`${e} error: "${t}" is not init in the data object !`)})();break;case"dom":(()=>{const e=n;console.error(`$DOM error: use DOM key "${e}" is not exist !`)})();break;case M:(()=>{const[e,t]=n;console.error(`${e} error: param ${t} must be function !`)})();break;case"jsx":(()=>{const e=n;console.error(`${e}: must be a valid react component(JSX) !`)})()}},oe=function(e){return e(((t={})[x]=e=>{return(t={}).key=e,t.val=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(I.current)return;let o=()=>{};const s=this.key;typeof t===g?(o=()=>(t(),!0),typeof n[m]===g&&n[m](((n,t)=>{if(typeof t===g){if("*"!==n)try{let r,o,i=!0;if(r=e,o=D.current[s],!D.current.hasOwnProperty(s))throw n;n==s&&!0===i&&!1===z(r,o)&&t(r,o)}catch(e){re(y,[j,n]),isToCompare=!1}}else re(M,[j,"2"])}),H.current),!0===B.current&&n.hasOwnProperty(c)&&n[c](H.current,r),_((n=>{const[t,r]=n,i={ref:null};new Promise((e=>{e(Promise.resolve((()=>new Promise((e=>{window.requestAnimationFrame((function(){e()}))})))))})).then((e=>new Promise((n=>{setTimeout((()=>{n(e)}),0)})).then((e=>(Promise.resolve((e=>e)).then((e=>Promise.resolve(e()))),()=>{D.current=i.ref}))))).then((e=>{e()}));let c=(e=>{let n=e;return Array.isArray(e)?n=[...e]:typeof e===b&&(n={...e}),n})(r),l=s;return i.ref=c,i.ref[l]=e,[o,{...c}]}))):re(M,[`${x}.val`,"2"])},t.update=function(e){let n;return e&&(n=e()),this},t.now=function(){const e=this.key;let n={...S.current};try{let t=n[e];return n=Array.isArray(t)||typeof t===b?Q(t):JSON.parse(JSON.stringify(t)),n}catch(n){return re(y,[x,e]),null}},t.then=function(e){e&&e()},t;var t},t[w]=K.current,t.getMethods=()=>H.current,t.$DOM=e=>!0!==Z.current.hasOwnProperty(e)?(re("dom",e),null):Z.current[e].current,t[v]=e=>{typeof e===g?(""===L.current&&(L.current=(.001*window.crypto.getRandomValues(new Uint8Array(1))).toString(36).slice(2,7)),!1===q.current&&(q.current=[],q.current[L.current]=[]),q.current[L.current].push(e)):re(M,[v,"1"])},t.eventBus=r,t.batchUpdate=function(){},t.globalBox=o,t));var t};if(null===H.current){if(H.current={},n.hasOwnProperty(d)){if(typeof n[d]!==g)return void re(M,[d,"1"]);let e=n[d];H.current=oe(e),e=null}n.hasOwnProperty(p),H.current.unmountView=()=>{!1===F.current&&(F.current=!0,I.current=!0,n.hasOwnProperty(u)&&n[u](H.current,r),_(!1),A(null))}}return null===X.current&&(X.current={},n.hasOwnProperty(f)),null===U.current&&(U.current={},n.hasOwnProperty(p)),k((()=>{!1!==R?(S.current=Q(R[1]),((e,t,r,o)=>{const s=n=>{if("*"===n)return e;try{return Y(e,n)}catch(e){return re(y,[x,e]),null}},i=e=>(!0===Z.current.hasOwnProperty(e)||(Z.current[e]=$()),Z.current[e]),c=n[h]((e=>(e[x]=s,e[d]=t,e.refDOM=i,e[f]=r,e[w]=K.current,e.components=o,e))({}));!0===O(c)?A(c):re("jsx",h)})(R[1],H.current,X.current,U.current)):A(null)}),[R]),k((()=>{!0===E.current&&!0!==F.current&&te((()=>{((e,t,o)=>{const s=e;!0!==F.current&&(n.hasOwnProperty(l)&&n[l](H.current,r),s(t,o))})(ne,R,ee)}))}),[R]),k((()=>{if(!0!==F.current){if(!0===B.current&&!1===E.current)te((()=>{setTimeout((()=>{n.hasOwnProperty(i)&&n[i](H.current,r)}),0)})),E.current=!0;else if(!0===E.current&&P.current&&2==C.current)return void(C.current=3);!1===B.current&&null===J&&(n.hasOwnProperty(s)&&n[s](H.current,r),B.current=!0)}else te((()=>{n.hasOwnProperty(a)&&n[a](H.current,r),S.current=null,H.current=null}))}),[J]),k((()=>{C.current++,C.current>1&&(P.current=!0)}),[]),k((()=>()=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{P.current&&G.current++,1!=G.current&&(I.current=!0,n.hasOwnProperty(u)&&n[u](H.current,r),F.current=!0,setTimeout((()=>{n.hasOwnProperty(a)&&n[a](H.current,r)}),0))}),0)}))}),0)}),[]),[J,H.current,r]}}}]);